import{a3 as t,C as s,a4 as e,a5 as o}from"./index-Bz-vZ-vF.js";import{r as a}from"./request-DTYmNTM5.js";const n=t("user",{state:()=>({token:s()||"",userInfo:null}),getters:{isLoggedIn:t=>!!t.token},actions:{async login(t){const s=await(e=t,a({url:"v1/user_auth/login",method:"post",data:e}));var e;return this.token=s.access_token,o(s.access_token),s},async getUserInfo(){const t=await a({url:"v1/user_auth/me",method:"get"});return this.userInfo=t,t},logout(){this.token="",this.userInfo=null,e()}}});export{n as u};
