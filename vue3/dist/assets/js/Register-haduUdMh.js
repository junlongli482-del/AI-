import{_ as a,r as e,a as s,c as d,b as l,d as r,F as i,e as t,f as o,w as n,g as c,h as v,u,o as p,n as m,j as h,E as f}from"./index-mLi0s7WA.js";import{r as g}from"./request-49VFfJMC.js";const w={class:"register-container"},b={class:"animated-bg"},y={class:"particles"},V={class:"register-card"},k={class:"form-group"},A={class:"input-wrapper"},x={class:"validation-icon"},_={key:0,class:"checking-icon"},M={key:1,class:"success-icon"},C={key:2,class:"error-icon"},E={class:"form-group"},H={class:"input-wrapper"},L={class:"validation-icon"},z={key:0,class:"checking-icon"},B={key:1,class:"success-icon"},Z={key:2,class:"error-icon"},$={class:"form-group"},P={class:"input-wrapper"},U={class:"form-group"},j={class:"input-wrapper"},D={class:"form-group"},F=["disabled"],N={class:"button-content"},R={key:0,class:"button-text"},q={key:1,class:"button-text"},I={class:"footer"},J={class:"footer-text"},T=a({__name:"Register",setup(a){const T=u(),G=e(null),K=e(!1),O=e(!1),Q=e(null),S=e(!1),W=e(null),X=s({username:"",email:"",password:"",confirmPassword:""}),Y={username:[{validator:(a,e,s)=>{e?/^[a-zA-Z0-9]{3,20}$/.test(e)?!1===Q.value?s(new Error("è¯¥ç”¨æˆ·åå·²è¢«ä½¿ç”¨")):s():s(new Error("ç”¨æˆ·åå¿…é¡»æ˜¯3-20ä¸ªå­—ç¬¦ï¼Œä»…é™å­—æ¯å’Œæ•°å­—")):s(new Error("è¯·è¾“å…¥ç”¨æˆ·å"))},trigger:"blur"}],email:[{validator:(a,e,s)=>{e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!1===W.value?s(new Error("è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ")):s():s(new Error("è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€")):s(new Error("è¯·è¾“å…¥é‚®ç®±"))},trigger:"blur"}],password:[{validator:(a,e,s)=>{e?e.length<8?s(new Error("å¯†ç è‡³å°‘8ä½")):/(?=.*[A-Za-z])(?=.*\d)/.test(e)?s():s(new Error("å¯†ç å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—")):s(new Error("è¯·è¾“å…¥å¯†ç "))},trigger:"blur"}],confirmPassword:[{validator:(a,e,s)=>{e?e!==X.password?s(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):s():s(new Error("è¯·å†æ¬¡è¾“å…¥å¯†ç "))},trigger:"blur"}]},aa=a=>{const e=6*Math.random(),s=5+4*Math.random(),d=3+6*Math.random(),l=["#ff6b6b","#4ecdc4","#ffeaa7","#fd79a8","#a8e6cf","#ff8a80","#ffcc02","#6c5ce7"];return{left:100*Math.random()+"%",animationDelay:e+"s",animationDuration:s+"s",width:d+"px",height:d+"px",background:l[Math.floor(Math.random()*l.length)]}},ea=async()=>{if(X.username&&/^[a-zA-Z0-9]{3,20}$/.test(X.username)){O.value=!0;try{const e=await(a=X.username,g({url:`v1/user_register/check-username/${a}`,method:"get"}));Q.value=e.available}catch(e){Q.value=null}finally{O.value=!1}var a}else Q.value=null},sa=async()=>{if(X.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X.email)){S.value=!0;try{const e=await(a=X.email,g({url:`v1/user_register/check-email/${a}`,method:"get"}));W.value=e.available}catch(e){W.value=null}finally{S.value=!1}var a}else W.value=null},da=async()=>{G.value&&await G.value.validate(async a=>{if(a){K.value=!0;try{await(e={username:X.username,email:X.email,password:X.password},g({url:"v1/user_register/register",method:"post",data:e})),f.success("æ³¨å†ŒæˆåŠŸï¼Œå³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢"),setTimeout(()=>{T.push("/login")},1500)}finally{K.value=!1}var e}})};return(a,e)=>{const s=c("el-input"),u=c("el-form-item"),f=c("el-form"),g=c("router-link");return p(),d("div",w,[l("div",b,[e[4]||(e[4]=r('<div class="grid-overlay" data-v-89ded40d></div><div class="floating-shapes" data-v-89ded40d><div class="shape shape-1" data-v-89ded40d></div><div class="shape shape-2" data-v-89ded40d></div><div class="shape shape-3" data-v-89ded40d></div><div class="shape shape-4" data-v-89ded40d></div><div class="shape shape-5" data-v-89ded40d></div><div class="shape shape-6" data-v-89ded40d></div></div>',2)),l("div",y,[(p(),d(i,null,t(18,a=>l("div",{class:"particle",key:a,style:m(aa())},null,4)),64))]),e[5]||(e[5]=r('<div class="light-beams" data-v-89ded40d><div class="beam beam-1" data-v-89ded40d></div><div class="beam beam-2" data-v-89ded40d></div><div class="beam beam-3" data-v-89ded40d></div><div class="beam beam-4" data-v-89ded40d></div></div>',1))]),l("div",V,[e[16]||(e[16]=r('<div class="glow-border" data-v-89ded40d></div><div class="header" data-v-89ded40d><div class="logo-container" data-v-89ded40d><div class="logo-rings" data-v-89ded40d><div class="ring ring-1" data-v-89ded40d></div><div class="ring ring-2" data-v-89ded40d></div><div class="ring ring-3" data-v-89ded40d></div><div class="ring ring-4" data-v-89ded40d></div></div><div class="logo" data-v-89ded40d>ğŸŒŸ</div></div><h1 class="title" data-v-89ded40d><span class="title-gradient" data-v-89ded40d>Join</span><span class="title-normal" data-v-89ded40d>Us</span></h1><p class="subtitle" data-v-89ded40d>åˆ›å»ºæ‚¨çš„æ™ºèƒ½æ–‡æ¡£ç®¡ç†è´¦æˆ·</p></div>',2)),o(f,{ref_key:"registerFormRef",ref:G,model:X,rules:Y,class:"register-form","show-message":!1},{default:n(()=>[l("div",k,[l("div",A,[o(u,{prop:"username"},{default:n(()=>[o(s,{modelValue:X.username,"onUpdate:modelValue":e[0]||(e[0]=a=>X.username=a),placeholder:"ç”¨æˆ·å (3-20ä¸ªå­—ç¬¦)",size:"large",class:"fancy-input",onBlur:ea},{prefix:n(()=>[...e[6]||(e[6]=[l("div",{class:"input-icon"},[l("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[l("path",{fill:"currentColor",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})])],-1)])]),suffix:n(()=>[l("div",x,[O.value?(p(),d("span",_,"â³")):!0===Q.value?(p(),d("span",M,"âœ¨")):!1===Q.value?(p(),d("span",C,"âŒ")):h("",!0)])]),_:1},8,["modelValue"])]),_:1})])]),l("div",E,[l("div",H,[o(u,{prop:"email"},{default:n(()=>[o(s,{modelValue:X.email,"onUpdate:modelValue":e[1]||(e[1]=a=>X.email=a),placeholder:"é‚®ç®±åœ°å€",size:"large",class:"fancy-input",onBlur:sa},{prefix:n(()=>[...e[7]||(e[7]=[l("div",{class:"input-icon"},[l("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[l("path",{fill:"currentColor",d:"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"})])],-1)])]),suffix:n(()=>[l("div",L,[S.value?(p(),d("span",z,"â³")):!0===W.value?(p(),d("span",B,"âœ¨")):!1===W.value?(p(),d("span",Z,"âŒ")):h("",!0)])]),_:1},8,["modelValue"])]),_:1})])]),l("div",$,[l("div",P,[o(u,{prop:"password"},{default:n(()=>[o(s,{modelValue:X.password,"onUpdate:modelValue":e[2]||(e[2]=a=>X.password=a),type:"password",placeholder:"å¯†ç  (è‡³å°‘8ä½ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—)",size:"large",class:"fancy-input","show-password":""},{prefix:n(()=>[...e[8]||(e[8]=[l("div",{class:"input-icon"},[l("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[l("path",{fill:"currentColor",d:"M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10A2,2 0 0,1 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"})])],-1)])]),_:1},8,["modelValue"])]),_:1})])]),l("div",U,[l("div",j,[o(u,{prop:"confirmPassword"},{default:n(()=>[o(s,{modelValue:X.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>X.confirmPassword=a),type:"password",placeholder:"ç¡®è®¤å¯†ç ",size:"large",class:"fancy-input","show-password":""},{prefix:n(()=>[...e[9]||(e[9]=[l("div",{class:"input-icon"},[l("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[l("path",{fill:"currentColor",d:"M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"})])],-1)])]),_:1},8,["modelValue"])]),_:1})])]),l("div",D,[l("button",{type:"button",onClick:da,disabled:K.value,class:"fancy-button"},[e[11]||(e[11]=l("div",{class:"button-bg"},null,-1)),e[12]||(e[12]=l("div",{class:"button-shine"},null,-1)),l("div",N,[K.value?(p(),d("span",q,[...e[10]||(e[10]=[l("svg",{class:"loading-spinner",viewBox:"0 0 24 24",width:"20",height:"20"},[l("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-dasharray":"31.416","stroke-dashoffset":"31.416"},[l("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),l("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})])],-1),v(" åˆ›å»ºä¸­... ",-1)])])):(p(),d("span",R,"ğŸš€ åˆ›å»ºè´¦æˆ·"))])],8,F)])]),_:1},8,["model"]),l("div",I,[e[15]||(e[15]=l("div",{class:"divider"},[l("span",{class:"divider-text"},"ğŸ¯ æˆ–è€… ğŸ¯")],-1)),l("p",J,[e[14]||(e[14]=v(" å·²æœ‰è´¦å·ï¼Ÿ ",-1)),o(g,{to:"/login",class:"footer-link"},{default:n(()=>[...e[13]||(e[13]=[l("span",{class:"link-text"},"ğŸ”¥ ç«‹å³ç™»å½•",-1),l("svg",{class:"link-arrow",viewBox:"0 0 24 24",width:"16",height:"16"},[l("path",{fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})],-1)])]),_:1})])])])])}}},[["__scopeId","data-v-89ded40d"]]);export{T as default};
