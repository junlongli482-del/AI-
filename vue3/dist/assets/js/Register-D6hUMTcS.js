import{_ as a,r as e,a as s,c as l,b as r,d as i,F as t,e as o,f as n,w as d,g as v,h as u,u as c,o as p,n as f,j as m,T as h,t as g,E as b}from"./index-Bz-vZ-vF.js";import{r as w}from"./request-DTYmNTM5.js";const y={class:"register-container"},k={class:"animated-bg"},V={class:"particles"},A={class:"register-card"},_={class:"form-group"},x={class:"input-wrapper"},M={class:"validation-icon"},C={key:0,class:"checking-icon"},E={key:1,class:"success-icon"},z={key:2,class:"error-icon"},H={key:0,class:"custom-error"},L={class:"form-group"},Z={class:"input-wrapper"},B={class:"validation-icon"},$={key:0,class:"checking-icon"},P={key:1,class:"success-icon"},I={key:2,class:"error-icon"},U={key:0,class:"custom-error"},j={class:"form-group"},D={class:"input-wrapper"},F={key:0,class:"custom-error"},N={class:"form-group"},R={class:"input-wrapper"},T={key:0,class:"custom-error"},q={class:"form-group"},J=["disabled"],G={class:"button-content"},K={key:0,class:"button-text"},O={key:1,class:"button-text"},Q={class:"footer"},S={class:"footer-text"},W=a({__name:"Register",setup(a){const W=c(),X=e(null),Y=e(!1),aa=e(!1),ea=e(null),sa=e(!1),la=e(null),ra=e(""),ia=e(""),ta=e(""),oa=e(""),na=s({username:"",email:"",password:"",confirmPassword:""}),da=()=>{const a=na.username;a?/^[a-zA-Z0-9]{3,20}$/.test(a)?!1===ea.value?ra.value="è¯¥ç”¨æˆ·åå·²è¢«ä½¿ç”¨":ra.value="":ra.value="ç”¨æˆ·åå¿…é¡»æ˜¯3-20ä¸ªå­—ç¬¦ï¼Œä»…é™å­—æ¯å’Œæ•°å­—":ra.value="è¯·è¾“å…¥ç”¨æˆ·å"},va=()=>{const a=na.email;a?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?!1===la.value?ia.value="è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ":ia.value="":ia.value="è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€":ia.value="è¯·è¾“å…¥é‚®ç®±"},ua=()=>{const a=na.password;a?a.length<8?ta.value="å¯†ç è‡³å°‘8ä½":/(?=.*[A-Za-z])(?=.*\d)/.test(a)?ta.value="":ta.value="å¯†ç å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—":ta.value="è¯·è¾“å…¥å¯†ç ",na.confirmPassword&&ca()},ca=()=>{const a=na.confirmPassword;a?a!==na.password?oa.value="ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´":oa.value="":oa.value="è¯·å†æ¬¡è¾“å…¥å¯†ç "},pa={username:[{validator:(a,e,s)=>{e?/^[a-zA-Z0-9]{3,20}$/.test(e)?!1===ea.value?s(new Error("è¯¥ç”¨æˆ·åå·²è¢«ä½¿ç”¨")):s():s(new Error("ç”¨æˆ·åå¿…é¡»æ˜¯3-20ä¸ªå­—ç¬¦ï¼Œä»…é™å­—æ¯å’Œæ•°å­—")):s(new Error("è¯·è¾“å…¥ç”¨æˆ·å"))},trigger:"blur"}],email:[{validator:(a,e,s)=>{e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?!1===la.value?s(new Error("è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ")):s():s(new Error("è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€")):s(new Error("è¯·è¾“å…¥é‚®ç®±"))},trigger:"blur"}],password:[{validator:(a,e,s)=>{e?e.length<8?s(new Error("å¯†ç è‡³å°‘8ä½")):/(?=.*[A-Za-z])(?=.*\d)/.test(e)?s():s(new Error("å¯†ç å¿…é¡»åŒ…å«å­—æ¯å’Œæ•°å­—")):s(new Error("è¯·è¾“å…¥å¯†ç "))},trigger:"blur"}],confirmPassword:[{validator:(a,e,s)=>{e?e!==na.password?s(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):s():s(new Error("è¯·å†æ¬¡è¾“å…¥å¯†ç "))},trigger:"blur"}]},fa=a=>{const e=6*Math.random(),s=5+4*Math.random(),l=3+6*Math.random(),r=["#ff6b6b","#4ecdc4","#ffeaa7","#fd79a8","#a8e6cf","#ff8a80","#ffcc02","#6c5ce7"];return{left:100*Math.random()+"%",animationDelay:e+"s",animationDuration:s+"s",width:l+"px",height:l+"px",background:r[Math.floor(Math.random()*r.length)]}},ma=async()=>{if(na.username&&/^[a-zA-Z0-9]{3,20}$/.test(na.username)){aa.value=!0;try{const e=await(a=na.username,w({url:`v1/user_register/check-username/${a}`,method:"get"}));ea.value=e.available}catch(e){ea.value=null}finally{aa.value=!1}var a;da()}else ea.value=null},ha=async()=>{if(na.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(na.email)){sa.value=!0;try{const e=await(a=na.email,w({url:`v1/user_register/check-email/${a}`,method:"get"}));la.value=e.available}catch(e){la.value=null}finally{sa.value=!1}var a;va()}else la.value=null},ga=async()=>{X.value&&(da(),va(),ua(),ca(),ra.value||ia.value||ta.value||oa.value?b.warning("è¯·æ£€æŸ¥è¡¨å•å¡«å†™æ˜¯å¦æ­£ç¡®"):await X.value.validate(async a=>{if(a){Y.value=!0;try{await(e={username:na.username,email:na.email,password:na.password},w({url:"v1/user_register/register",method:"post",data:e})),ra.value="",ia.value="",ta.value="",oa.value="",b.success("æ³¨å†ŒæˆåŠŸï¼Œå³å°†è·³è½¬åˆ°ç™»å½•é¡µé¢"),setTimeout(()=>{W.push("/login")},1500)}catch(s){console.error("æ³¨å†Œå¤±è´¥:",s),400===s.response?.status&&(ea.value=null,la.value=null,da(),va())}finally{Y.value=!1}var e}else b.warning("è¯·æ£€æŸ¥è¡¨å•å¡«å†™æ˜¯å¦æ­£ç¡®")}))};return(a,e)=>{const s=v("el-input"),c=v("el-form-item"),b=v("el-form"),w=v("router-link");return p(),l("div",y,[r("div",k,[e[4]||(e[4]=i('<div class="grid-overlay" data-v-f991b556></div><div class="floating-shapes" data-v-f991b556><div class="shape shape-1" data-v-f991b556></div><div class="shape shape-2" data-v-f991b556></div><div class="shape shape-3" data-v-f991b556></div><div class="shape shape-4" data-v-f991b556></div><div class="shape shape-5" data-v-f991b556></div><div class="shape shape-6" data-v-f991b556></div></div>',2)),r("div",V,[(p(),l(t,null,o(18,a=>r("div",{class:"particle",key:a,style:f(fa())},null,4)),64))]),e[5]||(e[5]=i('<div class="light-beams" data-v-f991b556><div class="beam beam-1" data-v-f991b556></div><div class="beam beam-2" data-v-f991b556></div><div class="beam beam-3" data-v-f991b556></div><div class="beam beam-4" data-v-f991b556></div></div>',1))]),r("div",A,[e[20]||(e[20]=i('<div class="glow-border" data-v-f991b556></div><div class="header" data-v-f991b556><div class="logo-container" data-v-f991b556><div class="logo-rings" data-v-f991b556><div class="ring ring-1" data-v-f991b556></div><div class="ring ring-2" data-v-f991b556></div><div class="ring ring-3" data-v-f991b556></div><div class="ring ring-4" data-v-f991b556></div></div><div class="logo" data-v-f991b556>ğŸŒŸ</div></div><h1 class="title" data-v-f991b556><span class="title-gradient" data-v-f991b556>Join</span><span class="title-normal" data-v-f991b556>Us</span></h1><p class="subtitle" data-v-f991b556>åˆ›å»ºæ‚¨çš„æ™ºèƒ½æ–‡æ¡£ç®¡ç†è´¦æˆ·</p></div>',2)),n(b,{ref_key:"registerFormRef",ref:X,model:na,rules:pa,class:"register-form","show-message":!1},{default:d(()=>[r("div",_,[r("div",x,[n(c,{prop:"username"},{default:d(()=>[n(s,{modelValue:na.username,"onUpdate:modelValue":e[0]||(e[0]=a=>na.username=a),placeholder:"ç”¨æˆ·å (3-20ä¸ªå­—ç¬¦)",size:"large",class:"fancy-input",onBlur:ma,onInput:da},{prefix:d(()=>[...e[6]||(e[6]=[r("div",{class:"input-icon"},[r("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[r("path",{fill:"currentColor",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})])],-1)])]),suffix:d(()=>[r("div",M,[aa.value?(p(),l("span",C,"â³")):!0===ea.value?(p(),l("span",E,"âœ¨")):!1===ea.value?(p(),l("span",z,"âŒ")):m("",!0)])]),_:1},8,["modelValue"])]),_:1}),n(h,{name:"error-fade"},{default:d(()=>[ra.value?(p(),l("div",H,[e[7]||(e[7]=r("span",{class:"error-icon-small"},"âš ï¸",-1)),r("span",null,g(ra.value),1)])):m("",!0)]),_:1})])]),r("div",L,[r("div",Z,[n(c,{prop:"email"},{default:d(()=>[n(s,{modelValue:na.email,"onUpdate:modelValue":e[1]||(e[1]=a=>na.email=a),placeholder:"é‚®ç®±åœ°å€",size:"large",class:"fancy-input",onBlur:ha,onInput:va},{prefix:d(()=>[...e[8]||(e[8]=[r("div",{class:"input-icon"},[r("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[r("path",{fill:"currentColor",d:"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"})])],-1)])]),suffix:d(()=>[r("div",B,[sa.value?(p(),l("span",$,"â³")):!0===la.value?(p(),l("span",P,"âœ¨")):!1===la.value?(p(),l("span",I,"âŒ")):m("",!0)])]),_:1},8,["modelValue"])]),_:1}),n(h,{name:"error-fade"},{default:d(()=>[ia.value?(p(),l("div",U,[e[9]||(e[9]=r("span",{class:"error-icon-small"},"âš ï¸",-1)),r("span",null,g(ia.value),1)])):m("",!0)]),_:1})])]),r("div",j,[r("div",D,[n(c,{prop:"password"},{default:d(()=>[n(s,{modelValue:na.password,"onUpdate:modelValue":e[2]||(e[2]=a=>na.password=a),type:"password",placeholder:"å¯†ç  (è‡³å°‘8ä½ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—)",size:"large",class:"fancy-input","show-password":"",onInput:ua},{prefix:d(()=>[...e[10]||(e[10]=[r("div",{class:"input-icon"},[r("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[r("path",{fill:"currentColor",d:"M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10A2,2 0 0,1 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"})])],-1)])]),_:1},8,["modelValue"])]),_:1}),n(h,{name:"error-fade"},{default:d(()=>[ta.value?(p(),l("div",F,[e[11]||(e[11]=r("span",{class:"error-icon-small"},"âš ï¸",-1)),r("span",null,g(ta.value),1)])):m("",!0)]),_:1})])]),r("div",N,[r("div",R,[n(c,{prop:"confirmPassword"},{default:d(()=>[n(s,{modelValue:na.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>na.confirmPassword=a),type:"password",placeholder:"ç¡®è®¤å¯†ç ",size:"large",class:"fancy-input","show-password":"",onInput:ca},{prefix:d(()=>[...e[12]||(e[12]=[r("div",{class:"input-icon"},[r("svg",{viewBox:"0 0 24 24",width:"20",height:"20"},[r("path",{fill:"currentColor",d:"M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"})])],-1)])]),_:1},8,["modelValue"])]),_:1}),n(h,{name:"error-fade"},{default:d(()=>[oa.value?(p(),l("div",T,[e[13]||(e[13]=r("span",{class:"error-icon-small"},"âš ï¸",-1)),r("span",null,g(oa.value),1)])):m("",!0)]),_:1})])]),r("div",q,[r("button",{type:"button",onClick:ga,disabled:Y.value,class:"fancy-button"},[e[15]||(e[15]=r("div",{class:"button-bg"},null,-1)),e[16]||(e[16]=r("div",{class:"button-shine"},null,-1)),r("div",G,[Y.value?(p(),l("span",O,[...e[14]||(e[14]=[r("svg",{class:"loading-spinner",viewBox:"0 0 24 24",width:"20",height:"20"},[r("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-dasharray":"31.416","stroke-dashoffset":"31.416"},[r("animate",{attributeName:"stroke-dasharray",dur:"2s",values:"0 31.416;15.708 15.708;0 31.416",repeatCount:"indefinite"}),r("animate",{attributeName:"stroke-dashoffset",dur:"2s",values:"0;-15.708;-31.416",repeatCount:"indefinite"})])],-1),u(" åˆ›å»ºä¸­... ",-1)])])):(p(),l("span",K,"ğŸš€ åˆ›å»ºè´¦æˆ·"))])],8,J)])]),_:1},8,["model"]),r("div",Q,[e[19]||(e[19]=r("div",{class:"divider"},[r("span",{class:"divider-text"},"ğŸ¯ æˆ–è€… ğŸ¯")],-1)),r("p",S,[e[18]||(e[18]=u(" å·²æœ‰è´¦å·ï¼Ÿ ",-1)),n(w,{to:"/login",class:"footer-link"},{default:d(()=>[...e[17]||(e[17]=[r("span",{class:"link-text"},"ğŸ”¥ ç«‹å³ç™»å½•",-1),r("svg",{class:"link-arrow",viewBox:"0 0 24 24",width:"16",height:"16"},[r("path",{fill:"currentColor",d:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"})],-1)])]),_:1})])])])])}}},[["__scopeId","data-v-f991b556"]]);export{W as default};
