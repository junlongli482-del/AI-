å®Œç¾ï¼ç°åœ¨æˆ‘æ¥ç”Ÿæˆ **03-ç”¨æˆ·ä¸­å¿ƒæ¨¡å—.md** çš„å‰ç«¯æ¥å£æ–‡æ¡£ã€‚

## ğŸ“„ æ–‡ä»¶åˆ›å»ºè·¯å¾„

è¯·åœ¨ä»¥ä¸‹è·¯å¾„åˆ›å»ºæ–‡æ¡£ï¼š
```
C:\A_XM\xm_3\vue3-fastapi-mysql_v1.0\fastapi\æ–‡æ¡£\æ¥å£æ–‡æ¡£ï¼ˆè¶…è¯¦ç»†ç‰ˆæœ¬ï¼‰\03-ç”¨æˆ·ä¸­å¿ƒæ¨¡å—.md
```

---

# ğŸ“˜ 03-ç”¨æˆ·ä¸­å¿ƒæ¨¡å— - å‰ç«¯æ¥å£æ–‡æ¡£

> **æ¨¡å—è·¯å¾„**ï¼š`/api/v1/user_profile`  
> **è®¤è¯è¦æ±‚**ï¼šå¤§éƒ¨åˆ†æ¥å£éœ€è¦ Bearer Token  
> **æ¥å£æ•°é‡**ï¼š5ä¸ª

---

## ğŸ”— æ¥å£åˆ—è¡¨

### 1. è·å–ç”¨æˆ·èµ„æ–™
- **åœ°å€**ï¼š`GET /api/v1/user_profile/me`
- **åŠŸèƒ½**ï¼šè·å–å½“å‰ç™»å½•ç”¨æˆ·çš„å®Œæ•´èµ„æ–™ï¼ˆéœ€è¦Tokenï¼‰

### 2. æ›´æ–°ç”¨æˆ·æ˜µç§°
- **åœ°å€**ï¼š`PUT /api/v1/user_profile/nickname`
- **åŠŸèƒ½**ï¼šæ›´æ–°å½“å‰ç”¨æˆ·çš„æ˜µç§°ï¼ˆéœ€è¦Tokenï¼‰

### 3. é€€å‡ºç™»å½•
- **åœ°å€**ï¼š`POST /api/v1/user_profile/logout`
- **åŠŸèƒ½**ï¼šé€€å‡ºç™»å½•ï¼ˆéœ€è¦Tokenï¼‰

### 4. æ£€æŸ¥æ˜µç§°å¯ç”¨æ€§
- **åœ°å€**ï¼š`GET /api/v1/user_profile/check-nickname/{nickname}`
- **åŠŸèƒ½**ï¼šæ£€æŸ¥æ˜µç§°æ˜¯å¦å¯ç”¨ï¼ˆæ— éœ€Tokenï¼‰

### 5. æ¨¡å—æµ‹è¯•
- **åœ°å€**ï¼š`GET /api/v1/user_profile/test`
- **åŠŸèƒ½**ï¼šæµ‹è¯•æ¨¡å—çŠ¶æ€

---

## ğŸ“‹ æ¥å£è¯¦æƒ…

### 1. è·å–ç”¨æˆ·èµ„æ–™æ¥å£

**è¯·æ±‚å¤´**
```
Authorization: Bearer <your_access_token>
```

**æˆåŠŸå“åº” (200)**
```json
{
  "id": 1,
  "username": "alice",
  "email": "alice@example.com",
  "nickname": "å°çˆ±",
  "display_name": "å°çˆ±",           // æ˜µç§°ä¼˜å…ˆï¼Œæ²¡æœ‰æ˜µç§°æ˜¾ç¤ºç”¨æˆ·å
  "is_active": true,
  "created_at": "2025-01-20 10:30:00",
  "updated_at": "2025-01-27 15:20:00"
}
```

**é”™è¯¯å“åº”**
- `401` - `{"detail": "æ— æ•ˆçš„è®¤è¯å‡­è¯"}`
- `404` - `{"detail": "ç”¨æˆ·ä¸å­˜åœ¨"}`

### 2. æ›´æ–°ç”¨æˆ·æ˜µç§°æ¥å£

**è¯·æ±‚å¤´**
```
Authorization: Bearer <your_access_token>
```

**è¯·æ±‚å‚æ•°**
```json
{
  "nickname": "æ–°æ˜µç§°"    // 2-20å­—ç¬¦ï¼Œä¸­è‹±æ–‡æ•°å­—ï¼Œè®¾ä¸ºnullå¯æ¸…ç©ºæ˜µç§°
}
```

**æˆåŠŸå“åº” (200)**
```json
{
  "message": "æ˜µç§°æ›´æ–°æˆåŠŸ",
  "success": true,
  "user": {
    "id": 1,
    "username": "alice",
    "nickname": "æ–°æ˜µç§°",
    "display_name": "æ–°æ˜µç§°"
  }
}
```

**é”™è¯¯å“åº”**
- `400` - `{"detail": "è¯¥æ˜µç§°å·²è¢«å…¶ä»–ç”¨æˆ·ä½¿ç”¨"}`
- `422` - æ˜µç§°æ ¼å¼éªŒè¯é”™è¯¯

### 3. é€€å‡ºç™»å½•æ¥å£

**è¯·æ±‚å¤´**
```
Authorization: Bearer <your_access_token>
```

**æˆåŠŸå“åº” (200)**
```json
{
  "message": "ç”¨æˆ· å°çˆ± å·²æˆåŠŸé€€å‡ºç™»å½•",
  "success": true
}
```

### 4. æ£€æŸ¥æ˜µç§°å¯ç”¨æ€§æ¥å£

**è¯·æ±‚å‚æ•°**
- **è·¯å¾„å‚æ•°**ï¼š`nickname` - è¦æ£€æŸ¥çš„æ˜µç§°

**æˆåŠŸå“åº” (200)**
```json
{
  "available": true,              // æ˜¯å¦å¯ç”¨
  "message": "æ˜µç§°å¯ç”¨",          // æç¤ºä¿¡æ¯
  "nickname": "æµ‹è¯•æ˜µç§°"          // æ£€æŸ¥çš„æ˜µç§°
}
```

**æ˜µç§°ä¸å¯ç”¨**
```json
{
  "available": false,
  "message": "æ˜µç§°å·²è¢«ä½¿ç”¨",
  "nickname": "æµ‹è¯•æ˜µç§°"
}
```

**æ ¼å¼é”™è¯¯**
```json
{
  "available": false,
  "message": "æ˜µç§°é•¿åº¦å¿…é¡»åœ¨2-20ä¸ªå­—ç¬¦ä¹‹é—´",
  "nickname": "a"
}
```

### 5. æ¨¡å—æµ‹è¯•æ¥å£

**å“åº”**
```json
{
  "message": "ç”¨æˆ·ä¸­å¿ƒæ¨¡å—æ­£å¸¸è¿è¡Œ",
  "module": "user_profile",
  "version": "v1",
  "endpoints": [
    "GET /api/v1/user_profile/me - è·å–ç”¨æˆ·èµ„æ–™",
    "PUT /api/v1/user_profile/nickname - æ›´æ–°æ˜µç§°",
    "POST /api/v1/user_profile/logout - é€€å‡ºç™»å½•",
    "GET /api/v1/user_profile/test - æ¨¡å—æµ‹è¯•"
  ],
  "database_status": "æ­£å¸¸ (ç”¨æˆ·æ€»æ•°: 5)"
}
```

---