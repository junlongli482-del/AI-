 å®Œç¾ï¼ç°åœ¨æˆ‘æ¥ç”Ÿæˆ **02-ç”¨æˆ·è®¤è¯æ¨¡å—.md** çš„å‰ç«¯æ¥å£æ–‡æ¡£ã€‚

## ğŸ“„ æ–‡ä»¶åˆ›å»ºè·¯å¾„

è¯·åœ¨ä»¥ä¸‹è·¯å¾„åˆ›å»ºæ–‡æ¡£ï¼š
```
C:\A_XM\xm_3\vue3-fastapi-mysql_v1.0\fastapi\æ–‡æ¡£\æ¥å£æ–‡æ¡£ï¼ˆè¶…è¯¦ç»†ç‰ˆæœ¬ï¼‰\02-ç”¨æˆ·è®¤è¯æ¨¡å—.md
```

---

# ğŸ“˜ 02-ç”¨æˆ·è®¤è¯æ¨¡å— - å‰ç«¯æ¥å£æ–‡æ¡£

> **æ¨¡å—è·¯å¾„**ï¼š`/api/v1/user_auth`  
> **è®¤è¯è¦æ±‚**ï¼šéƒ¨åˆ†æ¥å£éœ€è¦ Bearer Token  
> **æ¥å£æ•°é‡**ï¼š4ä¸ª

---

## ğŸ”— æ¥å£åˆ—è¡¨

### 1. ç”¨æˆ·ç™»å½•
- **åœ°å€**ï¼š`POST /api/v1/user_auth/login`
- **åŠŸèƒ½**ï¼šç”¨æˆ·å/é‚®ç®±ç™»å½•ï¼Œè·å–JWTä»¤ç‰Œ

### 2. è·å–ç”¨æˆ·ä¿¡æ¯
- **åœ°å€**ï¼š`GET /api/v1/user_auth/me`
- **åŠŸèƒ½**ï¼šè·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è¦Tokenï¼‰

### 3. åˆ·æ–°ä»¤ç‰Œ
- **åœ°å€**ï¼š`POST /api/v1/user_auth/refresh`
- **åŠŸèƒ½**ï¼šä½¿ç”¨åˆ·æ–°ä»¤ç‰Œè·å–æ–°çš„è®¿é—®ä»¤ç‰Œ

### 4. æ¨¡å—æµ‹è¯•
- **åœ°å€**ï¼š`GET /api/v1/user_auth/test`
- **åŠŸèƒ½**ï¼šæµ‹è¯•æ¨¡å—çŠ¶æ€

---

## ğŸ“‹ æ¥å£è¯¦æƒ…

### 1. ç”¨æˆ·ç™»å½•æ¥å£

**è¯·æ±‚å‚æ•°**
```json
{
  "username_or_email": "alice",    // ç”¨æˆ·åæˆ–é‚®ç®±
  "password": "password123",       // å¯†ç 
  "remember_me": false             // æ˜¯å¦è®°ä½ç™»å½•ï¼ˆå¯é€‰ï¼‰
}
```

**æˆåŠŸå“åº” (200)**
```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",  // remember_me=trueæ—¶æ‰æœ‰
  "token_type": "bearer",
  "expires_in": 1800               // 30åˆ†é’Ÿï¼Œå•ä½ï¼šç§’
}
```

**é”™è¯¯å“åº”**
- `401` - `{"detail": "ç”¨æˆ·å/é‚®ç®±æˆ–å¯†ç é”™è¯¯"}`

### 2. è·å–ç”¨æˆ·ä¿¡æ¯æ¥å£

**è¯·æ±‚å¤´**
```
Authorization: Bearer <your_access_token>
```

**æˆåŠŸå“åº” (200)**
```json
{
  "id": 1,
  "username": "alice",
  "email": "alice@example.com",
  "is_active": true,
  "created_at": "2025-01-20T10:30:00"
}
```

**é”™è¯¯å“åº”**
- `401` - `{"detail": "æ— æ•ˆçš„è®¤è¯å‡­è¯"}`
- `401` - `{"detail": "ç”¨æˆ·è´¦æˆ·å·²è¢«ç¦ç”¨"}`

### 3. åˆ·æ–°ä»¤ç‰Œæ¥å£

**è¯·æ±‚å‚æ•°**
```json
{
  "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
}
```

**æˆåŠŸå“åº” (200)**
```json
{
  "access_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",  // æ–°çš„è®¿é—®ä»¤ç‰Œ
  "refresh_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...", // åŸåˆ·æ–°ä»¤ç‰Œ
  "token_type": "bearer",
  "expires_in": 1800
}
```

**é”™è¯¯å“åº”**
- `401` - `{"detail": "æ— æ•ˆçš„åˆ·æ–°ä»¤ç‰Œ"}`

### 4. æ¨¡å—æµ‹è¯•æ¥å£

**å“åº”**
```json
{
  "message": "ç”¨æˆ·è®¤è¯æ¨¡å—æ­£å¸¸è¿è¡Œ",
  "module": "user_auth",
  "version": "v1",
  "endpoints": [
    "POST /api/v1/user_auth/login - ç”¨æˆ·ç™»å½•",
    "GET /api/v1/user_auth/me - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯",
    "POST /api/v1/user_auth/refresh - åˆ·æ–°ä»¤ç‰Œ",
    "GET /api/v1/user_auth/test - æ¨¡å—æµ‹è¯•"
  ]
}
```
