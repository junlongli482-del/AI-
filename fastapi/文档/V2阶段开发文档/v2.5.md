🎉 **恭喜！** `document_publish` 模块测试全部通过！

让我来更新和完善技术文档。

---

# 📘 FastAPI 模块化文档管理系统 - 完整技术文档 (v3.3)

> **最后更新**：2025年10月16日  
> **项目状态**：✅ `document_publish` 模块开发完成并通过测试  
> **架构原则**：模块化 + 版本化 + 零侵入 + 自动注册

---

## 📋 目录

- [1. 接口文档](#1-接口文档)
- [2. 开发文档](#2-开发文档)
- [3. 继续开发指南](#3-继续开发指南)
- [4. 快速启动命令](#4-快速启动命令)

---

## 1. 接口文档

### 1.1 基础信息

- **基础地址**：`http://localhost:8100`
- **认证方式**：`Authorization: Bearer <access_token>`
- **Content-Type**：`application/json`

---

### 1.2 v1 用户系统接口（✅ 已完成）

| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/register` | POST | 用户注册 | ❌ |
| `/check-username/{username}` | GET | 检查用户名可用性 | ❌ |
| `/check-email/{email}` | GET | 检查邮箱可用性 | ❌ |
| `/login` | POST | 用户登录 | ❌ |
| `/me` | GET | 获取当前用户信息 | ✅ |
| `/refresh` | POST | 刷新token | ✅ |
| `/nickname` | PUT | 更新昵称 | ✅ |
| `/check-nickname/{nickname}` | GET | 检查昵称可用性 | ✅ |
| `/logout` | POST | 退出登录 | ✅ |
| `/change-password` | POST | 修改密码 | ✅ |
| `/check-strength` | POST | 检查密码强度 | ❌ |
| `/user-info` | GET | 获取用户信息 | ✅ |

---

### 1.3 v2 文档管理接口（✅ 已完成）

#### 文件夹管理
| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/folders` | POST | 创建文件夹 | ✅ |
| `/folders/tree` | GET | 获取文件夹树 | ✅ |
| `/folders/{folder_id}` | DELETE | 删除文件夹 | ✅ |

#### 文档管理
| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/documents` | POST | 创建文档 | ✅ |
| `/documents` | GET | 获取文档列表（分页） | ✅ |
| `/documents/{doc_id}` | GET | 获取文档详情 | ✅ |
| `/documents/{doc_id}` | PUT | 更新文档 | ✅ |
| `/documents/{doc_id}` | DELETE | 删除文档 | ✅ |
| `/stats` | GET | 获取统计信息 | ✅ |

---

### 1.4 v2 文件上传接口（✅ 已完成）

| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/test` | GET | 测试接口 | ❌ |
| `/config` | GET | 获取上传配置 | ✅ |
| `/validate` | POST | 验证文件（不保存） | ✅ |
| `/upload` | POST | 上传文件 | ✅ |
| `/uploads` | GET | 获取上传历史（分页） | ✅ |
| `/uploads/{upload_id}` | GET | 获取上传详情 | ✅ |
| `/create-document` | POST | 从上传文件创建文档 | ✅ |
| `/uploads/{upload_id}` | DELETE | 删除上传记录 | ✅ |
| `/stats` | GET | 获取上传统计 | ✅ |

---

### 1.5 v2 MD编辑器接口（✅ 已完成）

#### 会话管理
| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/test` | GET | 测试接口 | ❌ |
| `/config` | GET | 获取编辑器配置 | ✅ |
| `/sessions` | POST | 创建编辑器会话 | ✅ |
| `/sessions` | GET | 获取会话列表（分页） | ✅ |
| `/sessions/{session_id}` | GET | 获取会话详情 | ✅ |
| `/sessions/{session_id}` | PUT | 更新会话内容 | ✅ |
| `/sessions/{session_id}` | DELETE | 删除会话 | ✅ |

#### AI优化功能
| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/sessions/{session_id}/optimize` | POST | AI优化内容 | ✅ |
| `/sessions/{session_id}/apply-optimization/{optimization_id}` | POST | 应用优化结果 | ✅ |
| `/sessions/{session_id}/optimizations` | GET | 获取优化历史 | ✅ |

#### 文档保存
| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/sessions/{session_id}/save-document` | POST | 保存为正式文档 | ✅ |
| `/stats` | GET | 获取编辑器统计 | ✅ |

---

### 1.6 v2 AI审核接口（✅ 已完成）

| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/test` | GET | 测试接口 | ❌ |
| `/submit-review` | POST | 提交文档审核 | ✅ |
| `/review-status/{document_id}` | GET | 查询审核状态 | ✅ |
| `/review-history` | GET | 获取审核历史 | ✅ |
| `/review-detail/{review_id}` | GET | 获取审核详情 | ✅ |
| `/retry-review/{document_id}` | POST | 重新审核文档 | ✅ |
| `/stats` | GET | 获取审核统计 | ✅ |
| `/config` | GET | 获取审核配置 | ✅ |
| `/review-log/{review_id}` | DELETE | 删除审核记录 | ✅ |
| `/recent-reviews` | GET | 获取最近审核 | ✅ |

---

### 1.7 v2 文档发布接口（✅ 新增）

| 接口路径 | 方法 | 功能 | 认证 |
|----------|------|------|------|
| `/test` | GET | 测试接口 | ❌ |
| `/submit` | POST | 提交文档发布 | ✅ |
| `/published` | GET | 获取已发布文档列表（分页） | ❌ |
| `/document/{doc_id}` | GET | 获取文档发布详情 | ✅ |
| `/unpublish/{doc_id}` | POST | 撤回已发布文档 | ✅ |
| `/my-records` | GET | 获取我的发布记录 | ✅ |
| `/stats` | GET | 获取发布统计 | ✅ |
| `/view/{doc_id}` | POST | 增加文档浏览量 | ❌ |
| `/status/{doc_id}` | GET | 获取文档发布状态 | ✅ |
| `/config` | GET | 获取发布配置 | ❌ |

#### 📌 关键接口示例

**提交文档发布**
```bash
curl -X POST "http://localhost:8100/api/v2/document_publish/submit" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "document_id": 123,
    "publish_reason": "发布测试文档",
    "publish_config": {"auto_featured": false}
  }'
```

**获取已发布文档列表**
```bash
curl "http://localhost:8100/api/v2/document_publish/published?page=1&size=20"
```

**撤回发布**
```bash
curl -X POST "http://localhost:8100/api/v2/document_publish/unpublish/123" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"unpublish_reason": "需要修改内容"}'
```

---

### 1.8 错误码说明

| 状态码 | 说明 | 示例 |
|--------|------|------|
| 200 | 成功 | 操作成功完成 |
| 400 | 请求错误 | 参数验证失败、业务逻辑错误、重复提交 |
| 401 | 认证失败 | Token无效或过期 |
| 404 | 资源不存在 | 文档、会话或文件夹不存在、无权限访问 |
| 422 | 数据格式错误 | JSON格式错误、字段类型错误 |
| 500 | 服务器错误 | 内部服务器错误、AI服务异常、数据库错误 |

---

## 2. 开发文档

### 2.1 项目目录结构

```bash
fastapi/
├── app/
│   ├── core/                     # 核心基础设施
│   │   ├── __init__.py
│   │   ├── config.py             # JWT/DB/Token 配置
│   │   ├── database.py           # SQLAlchemy 引擎 + SessionLocal
│   │   └── ai_client.py          # AI客户端（集成自定义AI服务）
│   │
│   ├── modules/                  # 业务模块根目录
│   │   ├── v1/                   # API 版本 v1（用户系统）
│   │   │   ├── __init__.py
│   │   │   ├── user_register/    # ✅ 用户注册模块
│   │   │   ├── user_auth/        # ✅ 用户认证模块
│   │   │   ├── user_profile/     # ✅ 用户中心模块
│   │   │   └── password_manager/ # ✅ 密码管理模块
│   │   │
│   │   └── v2/                   # API 版本 v2（文档系统）
│   │       ├── __init__.py
│   │       ├── document_manager/ # ✅ 文档管理模块
│   │       ├── file_upload/      # ✅ 文件上传模块
│   │       ├── md_editor/        # ✅ MD编辑器模块
│   │       ├── ai_review/        # ✅ AI审核模块
│   │       └── document_publish/ # ✅ 文档发布模块（新增）
│   │           ├── models.py     # PublishRecord, PublishHistory ORM 模型
│   │           ├── schemas.py    # API验证模型
│   │           ├── services.py   # 发布业务逻辑 + AI审核集成
│   │           ├── routes.py     # API路由（11个接口）
│   │           └── dependencies.py # 依赖注入
│   │
│   └── main.py                   # 🚀 应用入口：自动扫描并注册模块
│
├── uploads/                      # 文件上传目录
│   └── user_{user_id}/           # 用户隔离的上传目录
│       └── documents/            # 文档文件存储
│
├── .env                          # 环境变量
├── requirements.txt              # 依赖列表
├── README.md                     # 项目说明
└── 测试脚本/
    └── v2测试脚本/
        ├── test_document_manager_clean.py
        ├── test_file_upload_clean.py
        ├── test_md_editor_clean.py
        ├── test_ai_review_clean.py
        └── test_document_publish_clean.py    # ✅ 新增测试脚本
```

---

### 2.2 技术架构

#### 2.2.1 架构设计原则

- **模块化设计**：每个功能独立成模块，互不干扰
- **版本化管理**：v1用户系统，v2文档系统，支持并行开发
- **自动注册**：新模块无需修改`main.py`，自动发现和注册
- **零侵入原则**：新增功能不影响现有功能
- **统一依赖管理**：所有模块共享`core`中的基础设施
- **AI服务集成**：统一AI客户端，支持多种AI服务配置

#### 2.2.2 发布流程架构 🆕

- **发布状态机**：
  ```
  draft → pending_review → review_passed/review_failed → published ⇄ unpublished
  ```

- **AI审核集成**：
  ```python
  # 发布申请 → 触发AI审核 → 自动发布/拒绝
  submit_publish() → _trigger_ai_review() → _approve_publish() / _reject_publish()
  ```

- **权限控制**：
  - 仅文档所有者可提交发布
  - 已发布文档可随时撤回
  - 公开接口：文档列表、浏览量增加

---

### 2.3 数据库设计

#### 2.3.1 用户系统表（v1）

```sql
CREATE TABLE us_users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    nickname VARCHAR(50) DEFAULT NULL UNIQUE,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

#### 2.3.2 文档系统表（v2）

```sql
-- 文件夹表
CREATE TABLE us_folders (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    parent_id INT DEFAULT NULL,
    user_id INT NOT NULL,
    level TINYINT DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (parent_id) REFERENCES us_folders(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES us_users(id) ON DELETE CASCADE
);

-- 文档表
CREATE TABLE us_documents (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    content LONGTEXT,
    file_path VARCHAR(500),
    file_type ENUM('md', 'pdf') NOT NULL DEFAULT 'md',
    file_size INT DEFAULT 0,
    summary TEXT,
    status ENUM('draft', 'published', 'review_failed') DEFAULT 'draft',
    publish_time TIMESTAMP NULL,
    review_message TEXT,
    folder_id INT DEFAULT NULL,
    user_id INT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (folder_id) REFERENCES us_folders(id) ON DELETE SET NULL,
    FOREIGN KEY (user_id) REFERENCES us_users(id) ON DELETE CASCADE
);

-- 文件上传表
CREATE TABLE us_upload_records (
    id INT AUTO_INCREMENT PRIMARY KEY,
    original_filename VARCHAR(255) NOT NULL,
    stored_filename VARCHAR(255) NOT NULL,
    file_path VARCHAR(500) NOT NULL,
    file_size INT NOT NULL,
    file_type ENUM('md', 'pdf') NOT NULL,
    mime_type VARCHAR(100) NOT NULL,
    status ENUM('uploading', 'uploaded', 'validated', 'failed', 'deleted') DEFAULT 'uploading',
    validation_message TEXT,
    user_id INT NOT NULL,
    document_id INT DEFAULT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES us_users(id) ON DELETE CASCADE,
    FOREIGN KEY (document_id) REFERENCES us_documents(id) ON DELETE SET NULL
);

-- 编辑器会话表
CREATE TABLE us_editor_sessions (
    id INT AUTO_INCREMENT PRIMARY KEY,
    document_id INT DEFAULT NULL,
    user_id INT NOT NULL,
    title VARCHAR(200) DEFAULT NULL,
    content LONGTEXT,
    is_draft BOOLEAN DEFAULT TRUE,
    session_type ENUM('new_document', 'edit_document') DEFAULT 'new_document',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (document_id) REFERENCES us_documents(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES us_users(id) ON DELETE CASCADE,
    INDEX idx_user_id (user_id),
    INDEX idx_document_id (document_id),
    INDEX idx_session_type (session_type)
);

-- AI优化记录表
CREATE TABLE us_ai_optimizations (
    id INT AUTO_INCREMENT PRIMARY KEY,
    session_id INT NOT NULL,
    user_id INT NOT NULL,
    original_content LONGTEXT NOT NULL,
    optimized_content LONGTEXT NOT NULL,
    optimization_prompt TEXT,
    ai_provider VARCHAR(50) DEFAULT 'default',
    status ENUM('pending', 'completed', 'failed') DEFAULT 'completed',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (session_id) REFERENCES us_editor_sessions(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES us_users(id) ON DELETE CASCADE,
    INDEX idx_session_id (session_id),
    INDEX idx_user_id (user_id),
    INDEX idx_created_at (created_at)
);

-- AI审核日志表
CREATE TABLE us_ai_review_logs (
    id INT AUTO_INCREMENT PRIMARY KEY,
    document_id INT NOT NULL,
    user_id INT NOT NULL,
    review_type ENUM('content_safety') NOT NULL,
    ai_provider VARCHAR(50) DEFAULT 'default',
    file_id VARCHAR(100) DEFAULT NULL,
    review_prompt TEXT NOT NULL,
    ai_response LONGTEXT,
    review_result ENUM('pending', 'passed', 'failed', 'error') DEFAULT 'pending',
    failure_reason TEXT,
    confidence_score DECIMAL(3,2) DEFAULT NULL,
    review_duration INT DEFAULT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (document_id) REFERENCES us_documents(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES us_users(id) ON DELETE CASCADE,
    INDEX idx_document_id (document_id),
    INDEX idx_user_id (user_id),
    INDEX idx_review_result (review_result),
    INDEX idx_created_at (created_at)
);
```

#### 2.3.3 文档发布表（v2）🆕

```sql
-- 发布记录表
CREATE TABLE us_publish_records (
    id INT AUTO_INCREMENT PRIMARY KEY,
    document_id INT NOT NULL,
    user_id INT NOT NULL,
    publish_version INT DEFAULT 1,
    publish_status ENUM('draft', 'pending_review', 'review_passed', 'review_failed', 'published', 'unpublished') DEFAULT 'draft',
    publish_time TIMESTAMP NULL,
    unpublish_time TIMESTAMP NULL,
    publish_reason TEXT,
    unpublish_reason TEXT,
    review_id INT DEFAULT NULL,
    view_count INT DEFAULT 0,
    is_featured BOOLEAN DEFAULT FALSE,
    publish_config JSON,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (document_id) REFERENCES us_documents(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES us_users(id) ON DELETE CASCADE,
    INDEX idx_document_id (document_id),
    INDEX idx_user_id (user_id),
    INDEX idx_publish_status (publish_status),
    INDEX idx_publish_time (publish_time)
);

-- 发布历史表
CREATE TABLE us_publish_history (
    id INT AUTO_INCREMENT PRIMARY KEY,
    publish_record_id INT NOT NULL,
    document_id INT NOT NULL,
    user_id INT NOT NULL,
    action_type ENUM('submit', 'approve', 'reject', 'publish', 'unpublish', 'edit') NOT NULL,
    action_reason TEXT,
    old_status VARCHAR(50),
    new_status VARCHAR(50),
    operator_id INT,
    action_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (publish_record_id) REFERENCES us_publish_records(id) ON DELETE CASCADE,
    FOREIGN KEY (document_id) REFERENCES us_documents(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES us_users(id) ON DELETE CASCADE,
    FOREIGN KEY (operator_id) REFERENCES us_users(id) ON DELETE SET NULL,
    INDEX idx_publish_record_id (publish_record_id),
    INDEX idx_document_id (document_id),
    INDEX idx_action_time (action_time)
);
```

---

### 2.4 已完成功能清单 ✅

#### v1 用户系统
- ✅ 用户注册 (`user_register`)
- ✅ 用户认证 (`user_auth`)
- ✅ 用户中心 (`user_profile`)
- ✅ 密码管理 (`password_manager`)

#### v2 文档系统
- ✅ 文档管理 (`document_manager`)
  - 文档CRUD操作
  - 分层级文件夹管理（最多3层）
  - 分页查询
  - 统计功能
- ✅ 文件上传 (`file_upload`)
  - 支持MD、PDF格式上传
  - 文件验证（格式、大小、内容完整性）
  - 上传历史管理
  - 与文档系统集成
  - 统计功能
- ✅ MD编辑器 (`md_editor`)
  - 编辑器会话管理（新建/编辑文档）
  - AI内容优化功能（集成自定义AI服务）
  - 优化历史记录
  - 草稿自动保存
  - 与文档系统深度集成
  - 多种优化模式（通用、语法、结构、扩展）
- ✅ AI审核 (`ai_review`)
  - 文档大小检查（PDF ≤ 10页，MD ≤ 1000行）
  - AI内容安全审核（政治、暴力、色情等）
  - 审核状态管理
  - 审核历史记录
  - 审核统计分析
- ✅ 文档发布 (`document_publish`) 🆕
  - **发布流程管理**：文档提交 → AI审核 → 自动发布/拒绝
  - **状态控制**：draft → pending_review → published/review_failed
  - **权限管理**：仅文档所有者可发布和撤回
  - **AI审核集成**：自动调用`ai_review`模块进行内容审核
  - **浏览量统计**：支持文档浏览量跟踪
  - **发布历史**：完整的操作历史记录
  - **精选管理**：支持文档精选标记
  - **统计分析**：个人和全局发布统计

---

### 2.5 测试验证结果 🧪

#### 2.5.1 `document_publish` 模块测试结果

```
🚀 开始Document Publish模块测试
==================================================
✅ 用户登录成功
✅ 模块连通性正常
✅ 获取发布配置成功
✅ 创建测试文档成功 (ID: 33)
✅ 提交发布成功 (状态: review_failed - AI审核集成正常)
✅ 获取发布状态成功
✅ 获取发布详情成功
✅ 获取我的发布记录成功
✅ 获取发布统计成功
✅ 获取已发布文档列表成功
✅ 浏览量增加功能成功
==================================================
📊 测试完成: 11/11 通过
🎉 所有测试通过! Document Publish模块运行正常
```

#### 2.5.2 关键测试点验证

- ✅ **AI审核集成**：提交发布后自动触发AI审核
- ✅ **状态管理**：发布状态正确转换
- ✅ **权限控制**：仅文档所有者可操作
- ✅ **历史记录**：操作历史完整记录
- ✅ **统计功能**：个人和全局统计正常
- ✅ **公开接口**：文档列表和浏览量功能正常

---

### 2.6 待开发功能清单 🔄

| 优先级 | 模块 | 功能描述 | 依赖 |
|--------|------|----------|------|
| 🔴 高 | `tech_square` | 技术广场：文档展示、搜索、排序、分类筛选 | `document_publish` |
| 🟠 中 | `interaction` | 互动功能：点赞、收藏、评论（二层结构） | `tech_square` |
| 🟡 低 | `share_system` | 分享链接系统：生成链接、权限控制、统计分析 | `interaction` |

> **模块依赖关系**：`document_publish` ✅ → `tech_square` 🔄 → `interaction` 🔄 → `share_system` 🔄

---

## 3. 继续开发指南

### 3.1 项目背景信息

**项目名称**：文档管理与技术广场产品  
**项目目标**：在现有用户系统基础上，构建完整的文档管理和技术分享平台  
**核心价值**：提供安全、高效、智能的文档创作、审核、发布和分享一体化解决方案

---

### 3.2 当前项目状态摘要

✅ **已完成模块**（7/10）
- `v1/user_register` ✅ 用户注册
- `v1/user_auth` ✅ 用户认证  
- `v1/user_profile` ✅ 用户中心
- `v1/password_manager` ✅ 密码管理
- `v2/document_manager` ✅ 文档管理
- `v2/file_upload` ✅ 文件上传
- `v2/md_editor` ✅ MD编辑器
- `v2/ai_review` ✅ AI审核系统
- `v2/document_publish` ✅ 文档发布系统 🆕

🔄 **待开发模块**（3/10）
- `v2/tech_square` 🔄 技术广场
- `v2/interaction` 🔄 互动功能
- `v2/share_system` 🔄 分享系统

**完成度**：70% (7/10)

---

### 3.3 技术栈和架构信息

#### 后端技术栈
- **框架**：FastAPI
- **数据库**：MySQL 8+
- **ORM**：SQLAlchemy
- **认证**：JWT Bearer Token (HS256)
- **AI集成**：自定义AI服务（HTTP API）
- **Python版本**：3.x
- **环境管理**：Anaconda (`xm_3`)

#### 发布系统架构 🆕
- **发布流程**：自动化发布流程，集成AI审核
- **状态管理**：6种发布状态，完整状态机
- **权限控制**：用户级权限，文档所有者控制
- **历史追踪**：完整操作历史，支持审计
- **统计分析**：多维度统计，支持数据驱动决策

---

### 3.4 下一步开发需求

#### 立即开始：`tech_square` 模块